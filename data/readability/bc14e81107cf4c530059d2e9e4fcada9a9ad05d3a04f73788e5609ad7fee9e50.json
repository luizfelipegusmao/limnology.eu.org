{"title":"New – AWS Systems Manager Fleet Manager","link":"https://aws.amazon.com/blogs/aws/new-aws-systems-manager-fleet-manager/","date":1608050143000,"content":"<div id=\"readability-page-1\" class=\"page\"><article vocab=\"http://schema.org/\" typeof=\"TechArticle\"><meta property=\"inLanguage\" content=\"en-US\"><meta property=\"image\" content=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/10/FleetManager.png\"><section property=\"articleBody\"><div id=\"amazon-polly-audio-tab\"><p><a href=\"https://aws.amazon.com/polly/\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"https://a0.awsstatic.com/aws-blog/images/Voiced_by_Amazon_Polly_EN.png\" width=\"554\" height=\"56\"></a></p></div><p>Organizations, and their systems administrators, routinely face challenges in managing increasingly diverse portfolios of IT infrastructure across cloud and on-premises environments. Different tools, consoles, services, operating systems, procedures, and vendors all contribute to complicate relatively common, and related, management tasks. As workloads are modernized to adopt Linux and open-source software, those same systems administrators, who may be more familiar with GUI-based management tools from a Windows background, have to continually adapt and quickly learn new tools, approaches, and skill sets.</p><p><a href=\"https://aws.amazon.com/systems-manager/\" title=\"Systems Manager\">AWS Systems Manager</a> is an operational hub enabling you to manage resources on <a href=\"https://aws.amazon.com/\" title=\"\">AWS</a> and on-premises. Available today, <strong><span title=\"\">Fleet Manager</span></strong> is a new console based experience in <span title=\"\">Systems Manager</span> that enables systems administrators to view and administer their fleets of managed instances from a single location, in an operating-system-agnostic manner, without needing to resort to remote connections with SSH or RDP. As described in the <a href=\"https://docs.aws.amazon.com/systems-manager/latest/userguide/what-is-systems-manager.html\" target=\"_blank\" rel=\"noopener noreferrer\">documentation</a>, managed instances includes those running Windows, Linux, and macOS operating systems, in both the <a href=\"https://aws.amazon.com/\" title=\"\">AWS Cloud</a> and on-premises. <span title=\"\">Fleet Manager</span> gives you an aggregated view of your compute instances regardless of where they exist.</p><p>All that’s needed, whether for cloud or on-premises servers, is the <span title=\"\">Systems Manager</span> agent installed on each server to be managed, some <a href=\"https://aws.amazon.com/iam/\" title=\"\">AWS Identity and Access Management (IAM)</a> permissions, and <a href=\"https://aws.amazon.com/kms/\" title=\"\">AWS Key Management Service (KMS)</a> enabled for <span title=\"\">Systems Manager</span>‘s <span title=\"\">Session Manager</span>. This makes it an easy and cost-effective approach for remote management of servers running in multiple environments without needing to pay the licensing cost of expensive management tools you may be using today. As noted earlier, it also works with <a href=\"https://aws.amazon.com/blogs/aws/new-use-mac-instances-to-build-test-macos-ios-ipados-tvos-and-watchos-apps/\" target=\"_blank\" rel=\"noopener noreferrer\">instances running macOS</a>. With the agent software and permissions set up, <span title=\"\">Fleet Manager</span> enables you to explore and manage your servers from a single console environment. For example, you can navigate file systems, work with the registry on Windows servers, manage users, and troubleshoot logs (including viewing Windows event logs) and monitor common performance counters without needing the <a href=\"https://aws.amazon.com/cloudwatch/\" title=\"\">Amazon CloudWatch</a> agent to be installed.</p><p><strong><span>Exploring an Instance With <span title=\"\">Fleet Manager</span></span><br></strong>To get started exploring my instances using <span title=\"\">Fleet Manager</span>, I first head to the <span title=\"\">Systems Manager</span> console. There, I select the new <strong>Fleet Manager</strong> entry on the navigation toolbar. I can also select the <strong>Managed Instances</strong> option – <span title=\"\">Fleet Manager</span> replaces Managed Instances going forward, but the original navigation toolbar entry will be kept for backwards compatibility for a short while. But, before we go on to explore my instances, I need to take you on a brief detour.</p><p>When you select <span title=\"\">Fleet Manager</span>, as with some other views in <span title=\"\">Systems Manager</span>, a check is performed to verify that a role, named <strong>AmazonSSMRoleForInstancesQuickSetup</strong>, exists in your account. If you’ve used other components of <span title=\"\">Systems Manager</span> in the past, it’s quite possible that it does. The role is used to permit <span title=\"\">Systems Manager</span> to access your instances on your behalf and if the role exists, then you’re directed to the requested view. If however the role doesn’t exist, you’ll first be taken to the <strong>Quick Setup</strong> view. This in itself will trigger creation of the role, but you might want to explore the capabilities of <strong>Quick Setup</strong>, which you can also access any time from the navigation toolbar.</p><p><strong>Quick Setup</strong> is a feature of <span title=\"\">Systems Manager</span> that you can use to set up specific configuration items, such as the <span title=\"\">Systems Manager</span> and <span title=\"\">CloudWatch</span> agents on your instances (and keep them up-to-date), and also <span title=\"\">IAM</span> roles permitting access to your resources for <span title=\"\">Systems Manager</span> components. For this post, all the instances I’m going to use already have the required agent set up, including the role permissions, so I’m not going to discuss this view further but I encourage you to check it out. I also want to remind you that to take full advantage of <span title=\"\">Fleet Manager</span>‘s capabilities you first need to have <span title=\"\">KMS</span> encryption enabled for your instances and secondly, the role attached to your <a href=\"https://aws.amazon.com/ec2/\" title=\"\">Amazon Elastic Compute Cloud (EC2)</a> instances must have the <em><strong>kms:Decrypt</strong></em> role permission included, referencing the key you selected when you enabled <span title=\"\">KMS</span> encryption. You can enable encryption, and select the <span title=\"\">KMS</span> key, using the Preferences section of the <span title=\"\">Session Manager</span> console, and of course you can set up the role permission in the <span title=\"\">IAM</span> console.</p><p>That’s it for the diversion; if you have the role already, as I do, you’ll now be at the <strong>Managed instances</strong> list view. If you’re at <strong>Quick Setup</strong> instead, simply click the <strong>Fleet Manager</strong> navigation button once more.</p><p>The <strong>Managed instances</strong> view shows me all of my instances, in the cloud or on-premises, that I can access. Selecting an instance, in this case an <a href=\"https://aws.amazon.com/ec2/\" title=\"\">EC2</a> Windows instance launched using <a href=\"https://aws.amazon.com/elasticbeanstalk/\" title=\"\">AWS Elastic Beanstalk</a>, and clicking <strong>Instance actions</strong> presents me with a menu of options. The options (less those specific to Windows) are available for my Amazon Linux instance too, and for instances running macOS I can use the <strong>View file system</strong> option.</p><p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_managedinstances_list.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_managedinstances_list.png\" alt=\"Screenshot of <span title=&quot;&quot;>Fleet Manager</span>'s Managed instances view\" width=\"901\" height=\"395\"></a></p><p>The <strong>File system</strong> view displays a read-only view onto the file system of the selected instance. This can be particularly useful for viewing text-based log files, for example, where I can preview up to 10,000 lines of a log file and even <strong>tail</strong> it to view changes as the log updates. I used this to open and tail an IIS web server log on my Windows Server instance. Having selected the instance, I next select <strong>View file system</strong> from the <strong>Instance actions</strong> dropdown (or I can click the Instance ID to open a view onto that instance and select <strong>File system </strong>from the menu displayed on the instance view).</p><p>Having opened the file system view for my instance, I navigate to the folder on the instance containing the IIS web server logs.</p><p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_filesystem.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_filesystem.png\" alt=\"Screenshot of <span title=&quot;&quot;>Fleet Manager</span>'s File system view\" width=\"901\" height=\"238\"></a></p><p>Selecting a log file, I then click <strong>Actions</strong> and select <strong>Tail file</strong>. This opens a view onto the log file contents, which updates automatically as new content is written.</p><p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_filesystem_tail.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_filesystem_tail.png\" alt=\"Screenshot of tailing a log file in <span title=&quot;&quot;>Fleet Manager</span>\" width=\"861\" height=\"803\"></a></p><p>As I mentioned, the <strong>File system</strong> view is also accessible for macOS-based instances. For example, here is a screenshot of viewing the <em>Applications</em> folder on an <a href=\"https://aws.amazon.com/ec2/\" title=\"\">EC2</a> macOS instance.</p><p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/09/fleetmanager_filesystem_macos.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/09/fleetmanager_filesystem_macos.png\" alt=\"Screenshot of macOS file system view in <span title=&quot;&quot;>Fleet Manager</span>\" width=\"900\" height=\"514\"></a></p><p>Next, let’s examine the <strong>Performance counters</strong> view, which is available for both Windows and Linux instances. This view displays CPU, memory, network traffic, and disk I/O and will be familiar to Windows users from Task Manager. The metrics shown reflect the guest OS metrics, whereas <a href=\"https://aws.amazon.com/ec2/\" title=\"\">EC2</a> instance metrics you may be used to relate to the hypervisor. On this particular instance I’ve deployed an ASP.NET Core 5 application, which generates a varying length collection of Fibonacci numbers on page refresh. Below is a snapshot of the counters, after I’ve put the instance under a small amount of load. The view updates automatically every 5 seconds.</p><p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_perf_counters.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/12/08/fleetmanager_perf_counters.png\" alt=\"Screenshot of <span title=&quot;&quot;>Fleet Manager</span>'s Performance Counters view\" width=\"899\" height=\"666\"></a></p><p>There are more views available than I have space for in this post. Using the <strong>Windows Registry</strong> view, I can view and edit the registry on the selected Windows instance. <strong>Windows event logs</strong> gives me access to the Application and Service logs, and common Windows logs such as System, Setup, Security, etc. With <strong>Users and groups</strong> I can manage users or groups, including assignment of users to groups (again for both Windows and Linux instances). For all views, <span title=\"\">Fleet Manager</span> enables me to use a single and convenient console.</p><p><span><strong>Getting Started<br></strong></span><a href=\"https://aws.amazon.com/systems-manager/\" title=\"Systems Manager\">AWS Systems Manager</a> <span title=\"\">Fleet Manager</span> is available today for use with managed instances running Windows, Linux, and macOS. Information on pricing, for this and other <span title=\"\">Systems Manager</span> features, can be found at <a href=\"https://aws.amazon.com/systems-manager/pricing/\" target=\"_blank\" rel=\"noopener noreferrer\">this page</a>.</p><p><strong>Learn more, and get started with <span title=\"\">Fleet Manager</span> today, at <a href=\"https://aws.amazon.com/systems-manager/\" title=\"Systems Manager\">AWS Systems Manager</a>.</strong></p><a href=\"https://twitter.com/bellevuesteve\" title=\"Steve on Twitter\">— Steve</a></section></article></div>","author":"Steve Roberts","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"bc14e81107cf4c530059d2e9e4fcada9a9ad05d3a04f73788e5609ad7fee9e50","category":"Tech"}