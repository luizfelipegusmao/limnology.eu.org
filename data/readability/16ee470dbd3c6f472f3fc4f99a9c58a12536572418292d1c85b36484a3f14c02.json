{"title":"[MQTT] ‡∏•‡∏≠‡∏á MQTT ‡∏ö‡∏ô NodeJS ‡πÄ‡∏ñ‡∏≠‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö","link":"https://thanapon.info/nodejs-mqtt/","date":1573996290000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"post-94\"><div><p><span>November 17, 2019</span> <span><a href=\"https://thanapon.info/category/mqtt/\" rel=\"category tag\">MQTT</a>, <a href=\"https://thanapon.info/category/nodejs/\" rel=\"category tag\">NodeJs</a>, <a href=\"https://thanapon.info/category/sonoff/\" rel=\"category tag\">SONOFF</a></span></p></div><p><img width=\"800\" height=\"375\" src=\"https://thanapon.info/wp-content/uploads/2020/04/New-Project2.png\" alt=\"[MQTT] ‡∏•‡∏≠‡∏á MQTT ‡∏ö‡∏ô NodeJS ‡πÄ‡∏ñ‡∏≠‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö\" loading=\"lazy\" srcset=\"https://thanapon.info/wp-content/uploads/2020/04/New-Project2.png 800w, https://thanapon.info/wp-content/uploads/2020/04/New-Project2-300x141.png 300w, https://thanapon.info/wp-content/uploads/2020/04/New-Project2-768x360.png 768w, https://thanapon.info/wp-content/uploads/2020/04/New-Project2-600x281.png 600w\" sizes=\"(max-width: 800px) 100vw, 800px\"></p><div><p>‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏≠‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏• MQTT ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏•‡πà‡∏ô‡∏û‡∏ß‡∏Å IoT ‡∏≠‡∏∞‡πÑ‡∏£‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡∏Ñ‡∏á‡∏à‡∏∞‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏£‡∏≤‡∏∞ MQTT ‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß ESP32 ‡∏´‡∏£‡∏∑‡∏≠ ESP8266 ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö</p><p>MQTT ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</p><p id=\"7502\">MQTT (Message Queueing Telemetry Transport protocol)‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á m2m ‡∏´‡∏£‡∏∑‡∏≠ machine to machine ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏±‡∏ô‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠ MQTT Broker ‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö publish(‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á) ‡πÅ‡∏•‡∏∞ subscribe(‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö) ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠ ‡∏ó‡∏±‡πâ‡∏á subscribe ‡πÅ‡∏•‡∏∞ publish ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° topic ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô ‡∏ã‡∏∂‡πà‡∏á‡∏™‡∏°‡∏°‡∏ï‡∏¥ ‡∏ú‡∏°‡πÄ‡∏õ‡πá‡∏ô publish ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° topic ‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤ test, subscribe ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° topic ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤ test ‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ô‡∏±‡πâ‡∏ô publish ‡∏Å‡πá‡πÅ‡∏Ñ‡πà‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà publish message ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß message ‡∏Å‡πá‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà subscribe topic ‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö</p><p id=\"be64\">MQTT ‡∏à‡∏∞‡πÅ‡∏ö‡πà‡∏á QOS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏∑‡∏≠</p><ul><li>QOS0&nbsp;: (at most once) ‡∏Ñ‡∏∑‡∏≠‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏£‡∏±‡∏ö ACK ‡∏à‡∏≤‡∏Å‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</li><li>QOS1&nbsp;: (at least once) ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏£‡∏≠‡∏£‡∏±‡∏ö ACK ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏•‡∏ö message</li><li>QOS2&nbsp;: (exactly once) ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏£‡∏≠‡∏£‡∏±‡∏ö ACK ‡∏à‡∏≤‡∏Å‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á recheck flag ‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡∏´‡∏ô‡∏∂‡πà‡∏á</li></ul><p id=\"3bf7\">‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô physical ‡∏Ç‡∏≠‡∏á MQTT ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏≠‡∏µ‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ bandwidth ‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏û‡∏ß‡∏Å HTTP ‡∏ó‡∏≥‡πÉ‡∏´‡πâ MQTT ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå IoT ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö</p><h2 id=\"6bbe\">Mosquitto MQTT Broker</h2><p id=\"35ba\">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á MQTT Broker ‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏≤‡∏¢ IoT ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡∏∂‡∏Å‡∏ñ‡∏∂‡∏á Mosquitto ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ï‡πâ‡∏ô‡πÜ‡πÄ‡∏™‡∏°‡∏≠‡∏Ñ‡∏£‡∏±‡∏ö‡πÇ‡∏î‡∏¢ Mosquitto ‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô MQTT Broker ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Data Broker Middleware ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Publish ‡πÅ‡∏•‡∏∞ Subscribe ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‡πÅ‡∏Ñ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö</p><p id=\"eb6c\">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Mosquitto ‡πÄ‡∏•‡∏¢‡∏•‡∏∞‡∏Å‡∏±‡∏ô</p><ul><li>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ú‡πà‡∏≤‡∏ô terminal ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡πÇ‡∏î‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏°‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô Ubuntu OS ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</li></ul><pre>sudo apt-get install mosquitto mosquitto-client</pre><ul><li>‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö subscribe topic ‡πÇ‡∏î‡∏¢‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ terminal ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤ 2 ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏´‡πâ terminal ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà 1 subscribe topic ‚Äútest‚Äù ‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏µ‡∏Å terminal ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà 2 ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ publish message ‚Äúhello world‚Äù ‡∏ú‡πà‡∏≤‡∏ô topic ‚Äútest‚Äù</li></ul><pre>//terminal 1\nmosquitto_sub -h localhost -t test\n//terminal 2\nmosquitto_pub -h localhost -t test -m \"hello world\" </pre><p id=\"f095\">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏∑‡∏≠ terminal ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà 1 ‡∏à‡∏∞‡∏°‡∏µ message ‚Äúhello world‚Äù ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</p><div><pre data-lang=\"JavaScript\"><code data-hcb-clip=\"1\"><span>var</span> mqtt <span>=</span> <span>require</span><span>(</span><span>'mqtt'</span><span>)</span><span>;</span>\n\n<span>const</span> <span>MQTT_SERVER</span> <span>=</span> <span>\"Your Server Address\"</span><span>;</span>\n<span>const</span> <span>MQTT_PORT</span> <span>=</span> <span>\"1883\"</span><span>;</span>\n<span>//if your server don't have username and password let blank.</span>\n<span>const</span> <span>MQTT_USER</span> <span>=</span> <span>\"\"</span><span>;</span> \n<span>const</span> <span>MQTT_PASSWORD</span> <span>=</span> <span>\"\"</span><span>;</span>\n\n<span>// Connect MQTT</span>\n<span>var</span> client <span>=</span> mqtt<span>.</span><span>connect</span><span>(</span><span>{</span>\n    host<span>:</span> <span>MQTT_SERVER</span><span>,</span>\n    port<span>:</span> <span>MQTT_PORT</span><span>,</span>\n    username<span>:</span> <span>MQTT_USER</span><span>,</span>\n    password<span>:</span> <span>MQTT_PASSWORD</span>\n<span>}</span><span>)</span><span>;</span>\n\nclient<span>.</span><span>on</span><span>(</span><span>'connect'</span><span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n    <span>// Subscribe any topic</span>\n    console<span>.</span><span>log</span><span>(</span><span>\"MQTT Connect\"</span><span>)</span><span>;</span>\n    client<span>.</span><span>subscribe</span><span>(</span><span>'test'</span><span>,</span> <span>function</span> <span>(</span><span>err</span><span>)</span> <span>{</span>\n        <span>if</span> <span>(</span>err<span>)</span> <span>{</span>\n            console<span>.</span><span>log</span><span>(</span>err<span>)</span><span>;</span>\n        <span>}</span>\n    <span>}</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>// Receive Message and print on terminal</span>\nclient<span>.</span><span>on</span><span>(</span><span>'message'</span><span>,</span> <span>function</span> <span>(</span><span>topic<span>,</span> message</span><span>)</span> <span>{</span>\n    <span>// message is Buffer</span>\n    console<span>.</span><span>log</span><span>(</span>message<span>.</span><span>toString</span><span>(</span><span>)</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>setInterval</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>\n    client<span>.</span><span>publish</span><span>(</span><span>\"test\"</span><span>,</span> <span>\"hello from NodeJS\"</span><span>)</span><span>;</span>\n<span>}</span><span>,</span> <span>5000</span><span>)</span><span>;</span></code></pre></div><ul><li>‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö MQTT Broker ‡∏ã‡∏∂‡πà‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà MQTT ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö Broker ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏±‡∏ß‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ subscribe topic ‚Äútest‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‚Äúhello from NodeJS‚Äù ‡∏ó‡∏∏‡∏Å‡πÜ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö</li></ul><div><figure><img src=\"https://miro.medium.com/max/1655/1*p99DrnSj2VIo8LvI-a17LQ.png\" alt=\"Image for post\"></figure></div><ul><li>‡∏ã‡∏∂‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á MQTT ‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏Å‡πá‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ subscribe topic ‡∏ô‡∏±‡πâ‡∏ô‡πÜ ‡πÉ‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏≤‡∏Å MQTT ‡∏Å‡πá‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ broadcast ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà subscribe ‡πÑ‡∏ß‡πâ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô 10 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠ 100 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</li></ul><p id=\"6d31\">‡∏Å‡πá‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡πà‡∏≤‡∏ô MQTT ‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏° ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ MQTT ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏à‡∏∞‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Smart home ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ ESP32 ‡∏´‡∏£‡∏∑‡∏≠ ESP8266 ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô microcontroller ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° relay ‡∏ú‡πà‡∏≤‡∏ô MQTT ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô web developer ‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥ web application ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ‡∏î‡πâ‡∏ß‡∏¢ MQTT + ‡∏Å‡∏±‡∏ö <a href=\"https://medium.com/@thanapontapala/esp8266-sonoff-%E0%B8%A1%E0%B8%B2%E0%B8%A5%E0%B8%AD%E0%B8%87-tasmota-firmware-%E0%B8%AA%E0%B8%B3%E0%B8%AB%E0%B8%A3%E0%B8%B1%E0%B8%9A-sonoff-%E0%B8%81%E0%B8%B1%E0%B8%99%E0%B8%84%E0%B8%A3%E0%B8%B1%E0%B8%9A-97fbbbe18498\">Tasmota firmware</a> ‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡πà‡∏≤ Tasmota firmware ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö MQTT ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏£‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ configuration ‡πÅ‡∏•‡πâ‡∏ß‡∏ä‡∏µ‡πâ‡∏°‡∏≤‡∏¢‡∏±‡∏á MQTT Broker ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô MQTT ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö</p><h2 id=\"42c9\">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö <img draggable=\"false\" role=\"img\" alt=\"üôÇ\" src=\"https://s.w.org/images/core/emoji/13.0.0/svg/1f642.svg\"></h2><blockquote><p><a href=\"https://thanapon.info/?p=92\">[ESP8266-Sonoff] ‡∏°‡∏≤‡∏•‡∏≠‡∏á TASMOTA firmware ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Sonoff ‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö</a></p><cite>‡∏û‡∏≠‡∏î‡∏µ‡πÑ‡∏î‡πâ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏õ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô Sonoff ‡∏°‡∏≤ ‡∏ã‡∏∂‡πà‡∏á‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Module Sonoff Basic ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏à‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÜ‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏•‡∏•‡∏≤‡∏™‡∏ï‡πå‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏à‡∏∞‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏•‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö</cite></blockquote><blockquote><p><a href=\"https://www.npmjs.com/package/mqtt\" target=\"_blank\" rel=\"noreferrer noopener\">mqtt</a></p><cite>MQTT.js is a client library for the <a href=\"https://mqtt.org/\">MQTT</a> protocol, written in JavaScript for node.js and the browser.</cite></blockquote></div></div></div>","author":"thanapon.tap","siteTitle":"Thanapon","siteHash":"6a039c2f54d76e4c49227d80968f2a30de5427cc57525c047c383ea3563cde5f","entryHash":"16ee470dbd3c6f472f3fc4f99a9c58a12536572418292d1c85b36484a3f14c02","category":"Thai"}