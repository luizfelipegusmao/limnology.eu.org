{"title":"[MQTT] ‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ MQTT ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Sonoff ‡∏î‡πâ‡∏ß‡∏¢ NodeJS ‡∏Ñ‡∏£‡∏±‡∏ö","link":"https://thanapon.info/sonoff-mqtt/","date":1599916339000,"content":"<div id=\"readability-page-1\" class=\"page\"><div><p id=\"6d9c\">‡∏™‡∏∑‡∏ö‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏≤‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ú‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î TASMOTA firmware ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Sonoff ‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏µ‡∏Å‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô MQTT ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö NodeJS</p><p id=\"2c4d\">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô Web Application ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Sonoff ‡πÇ‡∏î‡∏¢‡∏ú‡πà‡∏≤‡∏ô MQTT Protocol ‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ô‡∏ß‡πÑ‡∏õ‡∏™‡∏≤‡∏¢ developer ‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡πà‡∏á ‡πÅ‡∏ï‡πà‡∏ú‡∏°‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏£‡∏±‡∏ö ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î code ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà github ‡πÑ‡∏î‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‚Ä¶</p><blockquote><p><a href=\"https://thanapon.info/?p=92\" target=\"_blank\" rel=\"noreferrer noopener\">[ESP8266-Sonoff] ‡∏°‡∏≤‡∏•‡∏≠‡∏á TASMOTA firmware ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Sonoff ‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö</a></p><cite>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô<br>‡∏û‡∏≠‡∏î‡∏µ‡πÑ‡∏î‡πâ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏õ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô Sonoff ‡∏°‡∏≤ ‡∏ã‡∏∂‡πà‡∏á‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Module Sonoff Basic ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏à‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÜ‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏•‡∏•‡∏≤‡∏™‡∏ï‡πå‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏à‡∏∞‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏•‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö</cite></blockquote><blockquote><p><a href=\"https://thanapon.info/?p=94\" target=\"_blank\" rel=\"noreferrer noopener\">[MQTT] ‡∏•‡∏≠‡∏á MQTT ‡∏ö‡∏ô NodeJS ‡πÄ‡∏ñ‡∏≠‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</a></p><cite>MQTT (Message Queueing Telemetry Transport protocol)‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á m2m ‡∏´‡∏£‡∏∑‡∏≠ machine to machine</cite></blockquote><h2 id=\"52c4\" data-selectable-paragraph=\"\">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á express-generator ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2><p id=\"d567\" data-selectable-paragraph=\"\">‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏ô‡∏≥ MQTT ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á web application ‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏ú‡∏°‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß express-generator ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á application ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà view engine ‡∏ú‡∏°‡∏à‡∏∞‡πÉ‡∏ä‡πâ EJS ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏ã‡∏∂‡πà‡∏á syntax ‡∏à‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÜ‡∏Å‡∏±‡∏ö html ‡∏°‡∏≤‡∏Å‡πÜ‡∏Ñ‡∏£‡∏±‡∏ö</p><pre>$ express --view=ejs nodejs-tasmota</pre><p id=\"1b77\" data-selectable-paragraph=\"\">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå nodejs-tasmota ‡∏°‡∏≤ ‡πÇ‡∏î‡∏¢‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢</p><pre>‚îú‚îÄ‚îÄ app.js\n‚îú‚îÄ‚îÄ bin\n‚îÇ   ‚îî‚îÄ‚îÄ www\n‚îú‚îÄ‚îÄ package.json\n‚îú‚îÄ‚îÄ public\n‚îÇ   ‚îú‚îÄ‚îÄ images\n‚îÇ   ‚îú‚îÄ‚îÄ javascripts\n‚îÇ   ‚îî‚îÄ‚îÄ stylesheets\n‚îÇ       ‚îî‚îÄ‚îÄ style.css\n‚îú‚îÄ‚îÄ routes\n‚îÇ   ‚îú‚îÄ‚îÄ index.js\n‚îÇ   ‚îî‚îÄ‚îÄ users.js\n‚îî‚îÄ‚îÄ views\n    ‚îú‚îÄ‚îÄ error.ejs\n    ‚îú‚îÄ‚îÄ index.ejs</pre><p id=\"4a7f\" data-selectable-paragraph=\"\">‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á web application ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô <em>npm install</em> ‡∏Å‡πà‡∏≠‡∏ô‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á package ‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö application ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô <em>npm start</em> ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö</p><section><pre>$ npm install // Install package dependencies\n$ npm start   // Start service</pre><p id=\"c2d4\" data-selectable-paragraph=\"\">‡∏°‡∏≤‡∏ó‡∏µ‡πà Web browser ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Google chrome ‡∏´‡∏£‡∏∑‡∏≠ Microsoft Edge ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≠‡∏á address : <a href=\"http://localhost:3000/\" rel=\"noopener nofollow\"><strong>http://localhost:3000</strong></a> ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á web application ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ MQTT ‡πÅ‡∏•‡∏∞ Tasmota</p><figure>&nbsp;<img loading=\"lazy\" src=\"https://miro.medium.com/max/1920/1*eCG3UkL7iHRFz-4LwGxZgw.png\" sizes=\"700px\" srcset=\"https://miro.medium.com/max/276/1*eCG3UkL7iHRFz-4LwGxZgw.png 276w, https://miro.medium.com/max/552/1*eCG3UkL7iHRFz-4LwGxZgw.png 552w, https://miro.medium.com/max/640/1*eCG3UkL7iHRFz-4LwGxZgw.png 640w, https://miro.medium.com/max/700/1*eCG3UkL7iHRFz-4LwGxZgw.png 700w\" alt=\"Image for post\" width=\"1920\" height=\"1030\"></figure></section><section><h2 id=\"aa20\" data-selectable-paragraph=\"\">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤ nodejs-mqtt ‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢</h2><p id=\"99bd\" data-selectable-paragraph=\"\">‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á package MQTT ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö web application ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</p><pre>$ npm install mqtt</pre><p id=\"aef2\" data-selectable-paragraph=\"\">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå <strong>app.js </strong>‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏±‡∏ß application ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö mqtt ‡πÑ‡∏î‡πâ</p></section><div><pre data-lang=\"JavaScript\"><code data-hcb-clip=\"1\"><span>const</span> createError <span>=</span> <span>require</span><span>(</span><span>'http-errors'</span><span>)</span><span>;</span>\n<span>const</span> express <span>=</span> <span>require</span><span>(</span><span>'express'</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>'path'</span><span>)</span><span>;</span>\n<span>const</span> cookieParser <span>=</span> <span>require</span><span>(</span><span>'cookie-parser'</span><span>)</span><span>;</span>\n<span>const</span> logger <span>=</span> <span>require</span><span>(</span><span>'morgan'</span><span>)</span><span>;</span>\n\n<span>//------------MQTT section------------//</span>\n<span>const</span> mqtt <span>=</span> <span>require</span><span>(</span><span>'mqtt'</span><span>)</span>  <span>// import mqtt connect</span>\n<span>// mqtt configuration</span>\n<span>const</span> mqttConfig <span>=</span> <span>{</span>\n  host<span>:</span> <span>'localhost'</span><span>,</span>\n  port<span>:</span> <span>1883</span><span>,</span>\n  username<span>:</span> <span>''</span><span>,</span>\n  password<span>:</span> <span>''</span>\n<span>}</span>\n<span>const</span> client  <span>=</span> mqtt<span>.</span><span>connect</span><span>(</span>mqttConfig<span>)</span> <span>// create connection to mqtt broker</span>\nclient<span>.</span><span>on</span><span>(</span><span>'connect'</span><span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n  client<span>.</span><span>subscribe</span><span>(</span><span>'tasmota/#'</span><span>,</span> <span>function</span> <span>(</span><span>err</span><span>)</span> <span>{</span>\n    <span>if</span> <span>(</span><span>!</span>err<span>)</span> <span>{</span>\n      client<span>.</span><span>publish</span><span>(</span><span>'tasmota'</span><span>,</span> <span>'Hello from application mqtt'</span><span>)</span>\n    <span>}</span>\n  <span>}</span><span>)</span>\n<span>}</span><span>)</span>\n \nclient<span>.</span><span>on</span><span>(</span><span>'message'</span><span>,</span> <span>function</span> <span>(</span><span>topic<span>,</span> message</span><span>)</span> <span>{</span>\n  <span>// message is Buffer</span>\n  console<span>.</span><span>log</span><span>(</span>message<span>.</span><span>toString</span><span>(</span><span>)</span><span>)</span>\n<span>}</span><span>)</span>\n<span>//------------------------------------//</span>\n\n<span>const</span> indexRouter <span>=</span> <span>require</span><span>(</span><span>'./routes/index'</span><span>)</span><span>;</span>\n\n<span>const</span> app <span>=</span> <span>express</span><span>(</span><span>)</span><span>;</span>\n\n<span>// view engine setup</span>\napp<span>.</span><span>set</span><span>(</span><span>'views'</span><span>,</span> path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>'views'</span><span>)</span><span>)</span><span>;</span>\napp<span>.</span><span>set</span><span>(</span><span>'view engine'</span><span>,</span> <span>'ejs'</span><span>)</span><span>;</span>\n\napp<span>.</span><span>use</span><span>(</span><span>logger</span><span>(</span><span>'dev'</span><span>)</span><span>)</span><span>;</span>\napp<span>.</span><span>use</span><span>(</span>express<span>.</span><span>json</span><span>(</span><span>)</span><span>)</span><span>;</span>\napp<span>.</span><span>use</span><span>(</span>express<span>.</span><span>urlencoded</span><span>(</span><span>{</span> extended<span>:</span> <span>false</span> <span>}</span><span>)</span><span>)</span><span>;</span>\napp<span>.</span><span>use</span><span>(</span><span>cookieParser</span><span>(</span><span>)</span><span>)</span><span>;</span>\napp<span>.</span><span>use</span><span>(</span>express<span>.</span><span>static</span><span>(</span>path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>'public'</span><span>)</span><span>)</span><span>)</span><span>;</span>\n\n<span>// Route endpoint</span>\n<span>indexRouter</span><span>(</span>app<span>,</span>client<span>)</span>\n\n<span>// catch 404 and forward to error handler</span>\napp<span>.</span><span>use</span><span>(</span><span>function</span><span>(</span><span>req<span>,</span> res<span>,</span> next</span><span>)</span> <span>{</span>\n  <span>next</span><span>(</span><span>createError</span><span>(</span><span>404</span><span>)</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>// error handler</span>\napp<span>.</span><span>use</span><span>(</span><span>function</span><span>(</span><span>err<span>,</span> req<span>,</span> res<span>,</span> next</span><span>)</span> <span>{</span>\n  <span>// set locals, only providing error in development</span>\n  res<span>.</span>locals<span>.</span>message <span>=</span> err<span>.</span>message<span>;</span>\n  res<span>.</span>locals<span>.</span>error <span>=</span> req<span>.</span>app<span>.</span><span>get</span><span>(</span><span>'env'</span><span>)</span> <span>===</span> <span>'development'</span> <span>?</span> err <span>:</span> <span>{</span><span>}</span><span>;</span>\n\n  <span>// render the error page</span>\n  res<span>.</span><span>status</span><span>(</span>err<span>.</span>status <span>||</span> <span>500</span><span>)</span><span>;</span>\n  res<span>.</span><span>render</span><span>(</span><span>'error'</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\nmodule<span>.</span>exports <span>=</span> app<span>;</span>\n</code></pre></div><p id=\"c9e7\">‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏ú‡∏°‡∏à‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î topic ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö subscribe ‡πÄ‡∏õ‡πá‡∏ô ‚Äú<strong><em>tasmota/#‚Äù</em></strong> ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</p><blockquote><p># ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡πÜ topic ‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ prefix ‚Äútasmota‚Äù</p></blockquote><p id=\"2e4e\">‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå <strong><em>views/index.ejs </em></strong>‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡∏ú‡∏°‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î‡πÄ‡∏à‡πâ‡∏≤‡∏ï‡∏±‡∏ß Sonoff ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå <strong><em>views/index.ejs </em></strong>‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° html button tag ‡∏Å‡∏±‡∏ô</p><div><pre data-lang=\"HTML\"><code data-hcb-clip=\"2\"><span>&lt;!DOCTYPE html&gt;</span>\n<span><span><span>&lt;</span>html</span><span>&gt;</span></span>\n  <span><span><span>&lt;</span>head</span><span>&gt;</span></span>\n    <span><span><span>&lt;</span>title</span><span>&gt;</span></span>&lt;%= title %&gt;<span><span><span>&lt;/</span>title</span><span>&gt;</span></span>\n    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>\"</span>stylesheet<span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span>/stylesheets/style.css<span>\"</span></span> <span>/&gt;</span></span>\n  <span><span><span>&lt;/</span>head</span><span>&gt;</span></span>\n  <span><span><span>&lt;</span>body</span><span>&gt;</span></span>\n    <span><span><span>&lt;</span>h1</span><span>&gt;</span></span>&lt;%= title %&gt;<span><span><span>&lt;/</span>h1</span><span>&gt;</span></span>\n    <span><span><span>&lt;</span>p</span><span>&gt;</span></span>Welcome nodejs-tasmota<span><span><span>&lt;/</span>p</span><span>&gt;</span></span>\n    <span><span><span>&lt;</span>button</span> <span>id</span><span><span>=</span><span>\"</span>butt_on<span>\"</span></span><span>&gt;</span></span>‡πÄ‡∏õ‡∏¥‡∏î<span><span><span>&lt;/</span>button</span><span>&gt;</span></span>\n    <span><span><span>&lt;</span>button</span> <span>id</span><span><span>=</span><span>\"</span>butt_off<span>\"</span></span><span>&gt;</span></span>‡∏õ‡∏¥‡∏î<span><span><span>&lt;/</span>button</span><span>&gt;</span></span>\n  <span><span><span>&lt;/</span>body</span><span>&gt;</span></span>\n  <span><span><span>&lt;</span>script</span> <span>src</span><span><span>=</span><span>\"</span>https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js<span>\"</span></span><span>&gt;</span></span><span></span><span><span><span>&lt;/</span>script</span><span>&gt;</span></span>\n  <span><span><span>&lt;</span>script</span><span>&gt;</span></span><span>\n    <span>$</span><span>(</span><span>\"#butt_on\"</span><span>)</span><span>.</span><span>click</span><span>(</span><span>function</span> <span>(</span><span>event</span><span>)</span> <span>{</span>\n      event<span>.</span><span>preventDefault</span><span>(</span><span>)</span><span>;</span>\n      $<span>.</span><span>get</span><span>(</span><span>\"/control/on\"</span><span>,</span> <span>function</span> <span>(</span><span>data<span>,</span> status</span><span>)</span> <span>{</span>\n        <span>alert</span><span>(</span><span>\"Data: \"</span> <span>+</span> data <span>+</span> <span>\"\\nStatus: \"</span> <span>+</span> status<span>)</span><span>;</span>\n      <span>}</span><span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n    <span>$</span><span>(</span><span>\"#butt_off\"</span><span>)</span><span>.</span><span>click</span><span>(</span><span>function</span> <span>(</span><span>event</span><span>)</span> <span>{</span>\n      event<span>.</span><span>preventDefault</span><span>(</span><span>)</span><span>;</span>\n      $<span>.</span><span>get</span><span>(</span><span>\"/control/off\"</span><span>,</span> <span>function</span> <span>(</span><span>data<span>,</span> status</span><span>)</span> <span>{</span>\n        <span>alert</span><span>(</span><span>\"Data: \"</span> <span>+</span> data <span>+</span> <span>\"\\nStatus: \"</span> <span>+</span> status<span>)</span><span>;</span>\n      <span>}</span><span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n  </span><span><span><span>&lt;/</span>script</span><span>&gt;</span></span>\n<span><span><span>&lt;/</span>html</span><span>&gt;</span></span></code></pre></div><p id=\"4226\">‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πä‡∏î‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏ú‡∏°‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á button tag ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏î ‡πÄ‡∏õ‡∏¥‡∏î ‡πÅ‡∏•‡∏∞ ‡∏õ‡∏¥‡∏î ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î event ‡∏Å‡∏≤‡∏£ click ‡πÅ‡∏•‡πâ‡∏ß ‡∏à‡∏∞‡πÑ‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Endpoint URL <em>/control/on</em> ‡πÅ‡∏•‡∏∞ <em>/control/off</em> ‡∏ú‡πà‡∏≤‡∏ô method GET ‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö</p><p id=\"f5bd\"><strong>‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2 ‡∏Å‡πá‡πÄ‡∏™‡∏£‡πá‡∏à‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3 ‡∏Å‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡∏ö‡πÇ‡∏î‡∏¢‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å MQTT publish ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á MQTT ‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á Tasmota ‡∏Å‡∏±‡∏ô</strong></p><p id=\"eb9a\">‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏Ñ‡πä‡∏î‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£ route ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå route/index.js ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Endpoint ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î Sonoff ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• publish ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á Tasmota ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</p><div><pre data-lang=\"JavaScript\"><code data-hcb-clip=\"3\"><span>const</span> <span>main</span> <span>=</span> <span>(</span><span>app<span>,</span> client</span><span>)</span> <span>=&gt;</span> <span>{</span>\n  <span>/* GET home page. */</span>\n  app<span>.</span><span>get</span><span>(</span><span>'/'</span><span>,</span> <span>function</span> <span>(</span><span>req<span>,</span> res</span><span>)</span> <span>{</span>\n    res<span>.</span><span>render</span><span>(</span><span>'index'</span><span>,</span> <span>{</span>\n      title<span>:</span> <span>'nodejs-tasmota'</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n\n  app<span>.</span><span>get</span><span>(</span><span>'/control/on'</span><span>,</span> <span>function</span> <span>(</span><span>req<span>,</span> res</span><span>)</span> <span>{</span>\n    <span>const</span> fullTopic <span>=</span> <span><span>`tasmota/cmnd/tasmota-1/POWER`</span></span>\n    client<span>.</span><span>publish</span><span>(</span>fullTopic<span>,</span> <span>\"ON\"</span><span>)</span><span>;</span>\n    res<span>.</span><span>send</span><span>(</span><span>'Turn on!'</span><span>)</span>\n  <span>}</span><span>)</span>\n\n  app<span>.</span><span>get</span><span>(</span><span>'/control/off'</span><span>,</span> <span>function</span> <span>(</span><span>req<span>,</span> res</span><span>)</span> <span>{</span>\n    <span>const</span> fullTopic <span>=</span> <span><span>`tasmota/cmnd/tasmota-1/POWER`</span></span>\n    client<span>.</span><span>publish</span><span>(</span>fullTopic<span>,</span> <span>\"OFF\"</span><span>)</span><span>;</span>\n    res<span>.</span><span>send</span><span>(</span><span>'Turn off!'</span><span>)</span>\n  <span>}</span><span>)</span>\n<span>}</span>\n\nmodule<span>.</span>exports <span>=</span> main<span>;</span></code></pre></div><p id=\"7e97\">‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Configuration ‡∏Ç‡∏≠‡∏á Sonoff ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Topic ‡πÅ‡∏•‡∏∞ Full Topic ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ subscribe</p><ul><li><strong><em>Topic: tasmota-1</em></strong></li><li><strong><em>Full Topic: tasmota/%prefix%/%topic%/</em></strong></li></ul><p id=\"ced7\">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Å‡∏î Save ‡πÅ‡∏•‡πâ‡∏ß Sonoff ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ restart ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏à‡πâ‡∏≤ Sonoff ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö web application ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÅ‡∏•‡πâ‡∏ß</p><div><figure><img src=\"https://miro.medium.com/max/1498/1*KzowlRg7f3O-3AKXTrGqpQ.png\" alt=\"Image for post\"></figure></div><p><strong>Fulltopic : tasmota/${prefix}/${topic}/</strong></p><ul><li><strong><em>tasmota</em></strong> ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏∏‡πä‡∏õ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ</li><li><strong><em>prefix</em></strong> ‡∏Ñ‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏ä‡πà‡∏ô cmnd, stat, tele</li><li><strong>topic </strong>‡∏Ñ‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡∏ñ‡∏∂‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πà‡∏ô device_1, device_2</li></ul><p id=\"cea0\">‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ publish ‡πÑ‡∏õ‡∏¢‡∏±‡∏á MQTT broker ‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á topic ‡πÉ‡∏ô application ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Fulltopic ‡∏Ç‡∏≠‡∏á Tasmota ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏ä‡πà‡∏ô‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Sonoff ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏¢‡πà‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á prefix ‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡∏Ñ‡∏∑‡∏≠ POWER</p><p id=\"b35c\">‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô application ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</p><pre>$ npm start</pre><p id=\"4bb5\">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡∏¥‡∏î web browser ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà <a href=\"http://localhost:3000/\"><strong>http://localhost:3000</strong></a> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</p><div><figure><img src=\"https://miro.medium.com/max/392/1*5GYz10EaylHCBNq58ciCnQ.gif\" alt=\"Image for post\"></figure></div><p id=\"a2ce\">‡∏à‡∏£‡∏¥‡∏á‡πÜ‡πÅ‡∏•‡πâ‡∏ß Tasmota firmware ‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‡∏≠‡∏µ‡∏Å‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà response ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß firmware ‡πÅ‡∏•‡πâ‡∏ß‡∏ú‡πà‡∏≤‡∏ô MQTT ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏≤‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô Dashboard ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡πà‡∏≤‡∏á‡πÜ‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏ó‡∏≥ Smarthome ‡πÄ‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠ Smart ‡∏ï‡πà‡∏≤‡∏á‡πÜ Tasmota ‡πÅ‡∏•‡∏∞ Sonoff ‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á hardware ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏î ‡∏Å‡∏£‡∏≤‡∏ö‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö <img draggable=\"false\" role=\"img\" alt=\"üôÇ\" src=\"https://s.w.org/images/core/emoji/13.0.0/svg/1f642.svg\"></p><h2 id=\"5eaa\">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö</h2><ul><li><strong>Github code example</strong></li></ul><blockquote><p><a href=\"https://github.com/toygame/nodejs-tasmota\" target=\"_blank\" rel=\"noreferrer noopener\">toygame/<strong>nodejs-tasmota</strong></a></p><cite>https://github.com/toygame/nodejs-tasmota</cite></blockquote></div></div>","author":"thanapon.tap","siteTitle":"Thanapon","siteHash":"6a039c2f54d76e4c49227d80968f2a30de5427cc57525c047c383ea3563cde5f","entryHash":"6e7d0a8cbbf89ca66c306146f810b63731c6989f9a1ce7c989edeba9c34809b4","category":"Thai"}